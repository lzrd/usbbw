# Framework Laptop 13 (AMD Ryzen AI 300 Series) - Motherboard FRANMGCP
#
# Baseline configuration for Framework FRANMGCP mainboard.
# This file provides controller/bus labels and position mappings.
#
# To use: create ~/.config/usbbw/config.toml with:
#
#   inherit = "/path/to/usbbw/configs/framework-franmgcp.toml"
#
#   [products]
#   "1234:5678" = "My Device"
#
# Reference: https://knowledgebase.frame.work/expansion-card-functionality-on-framework-laptop-13-amd-ryzen-ai-300-series-Hy5SfMRs1l

[settings]
refresh_ms = 1000
theme = "dark"
use_bits = true

# =============================================================================
# Position Label Mappings
# =============================================================================
# Framework laptops use ACPI physical_location attributes.
# "upper" = near hinge (rear), "lower" = near front edge (front)
# "left" in horizontal_position seems to mean the outer edge of the panel

[position_labels.vertical]
upper = "Rear"   # Near hinge
lower = "Front"  # Near front edge

[position_labels.panel]
left = "Left"
right = "Right"

[position_labels.horizontal]
left = "Outer"
center = ""
right = "Inner"

# =============================================================================
# USB Port Capabilities (Framework 13 AMD Ryzen AI 300)
# =============================================================================
# Expansion card slots and their capabilities:
#
#   Slot 1 (Left Rear):   USB4 40Gbps + DP (dedicated controller)
#   Slot 2 (Left Front):  USB 3.2 10Gbps only, no DP (shares controller with Slot 4)
#   Slot 3 (Right Rear):  USB4 40Gbps + DP (dedicated controller)
#   Slot 4 (Right Front): USB 3.2 10Gbps + DP (shares controller with Slot 2)
#
# IMPORTANT: Slots 2 and 4 (both front ports) share a single USB controller,
# so high-bandwidth devices on one will affect available bandwidth on the other.
# For bandwidth-intensive setups, prefer the rear USB4 slots.
#
# Note: Only some ports report ACPI physical_location. Ports without specific
# ACPI data will show controller/bus info instead of physical position.

[[physical_ports]]
panel = "left"
horizontal_position = "left"
vertical_position = "upper"
label = "Slot 1 - Left Rear (USB4)"

# =============================================================================
# Controller Labels
# =============================================================================
# The Framework 13 AMD has multiple xHCI controllers:
# - Internal controller for fingerprint reader
# - Shared controller for both front ports (Slots 2+4) - SHARES BANDWIDTH
# - USB4/TB controller for rear ports (Slots 1+3) - each has dedicated bandwidth

[controllers]
"0000:c1:00.4" = "Internal (Fingerprint)"
"0000:c3:00.0" = "Front Ports (Slots 2+4)"
"0000:c3:00.3" = "Rear Right (Slot 3)"
"0000:c3:00.4" = "Rear Left (Slot 1)"

# =============================================================================
# Bus Labels
# =============================================================================
# Odd buses = USB 2.0, Even buses = USB 3.x
# Note: Bus numbers may vary by kernel/hardware - verify with `usbbw summary`

[buses]
"1" = "Internal 2.0"
"2" = "Internal 3.x"
"3" = "Front 2.0"
"4" = "Front 3.x"
"5" = "Rear Right 2.0"
"6" = "Rear Right 3.x"
"7" = "Rear Left 2.0"
"8" = "Rear Left 3.x"
